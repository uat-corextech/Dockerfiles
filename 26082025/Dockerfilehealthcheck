#use this as base image
FROM docker.io/ubuntu:22.04
#install ping command
RUN apt update && apt install iputils-ping -y
#copy random file to /tmp of container
COPY HelloWorld.java /tmp/
#checking health for every 5 sec, if file not open state will be unhealthy
HEALTHCHECK --interval=5s CMD cat /tmp/HelloWorld.java
#run ping command by default
ENTRYPOINT ["ping"]
#below arg can override with any other arg
CMD ["google.com"]

#command to build image
#docker image build -f myhealthcheck .

#command to run container
#docker container run -it myhealthcheck
